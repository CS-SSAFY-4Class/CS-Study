# Join이란?

관계를 맺고 있는 두 개 이상의 테이블을 한 테이블 안에 표시하기 위한 방법<br>
두 테이블은 일대다 혹은 다대다 관계 등을 맺고 있어야 함

<br>

# Join의 종류

## INNER JOIN
- 가장 많이 사용되는 조인 중 하나
- 두 테이블에 모두 지정한 데이터가 존재해야함
- 예시 테이블의 경우 두 테이블에 모두 존재하는 학번에 해당하는 데이터만 서로 join이 됨

### Example table

학생 테이블

학번|주민번호|성명|성별
---|---|---|---
1001|8453-15415|홍길동|남
1002|5375-78237|김길수|남
1003|3572-57537|김영희|여
1004|1283-43355|박희영|여
1006|1216-48266|김한주|남

수강 테이블
학번|과목|수강번호
---|---|---
1001|영어|1
1001|수학|2
1002|국어|3
1002|수학|4
1003|과학|5
1004|사회|6
1005|음악|7


### CODE
```SQL
SELECT 학생.*, 수강.*
FROM 수강
INNER JOIN 학생
WHERE 학생.학번 = 수강.학번
```

### TABLE
학번|과목|수강번호|주민번호|성명|성별
|---|---|---|---|---|---|
1001|영어|1|8453-15415|홍길동|남
1001|수학|2|8453-15415|홍길동|남
1002|국어|3|5375-78237|김길수|남
1002|수학|4|5375-78237|김길수|남
1003|과학|5|3572-57537|김영희|여
1004|사회|6|1283-43355|박희영|여

<br>

## OUTER JOIN
- 기준이 되는 테이블을 정함
- 기준 테이블의 데이터들이 지정 데이터가 됨
- 다른 테이블에서 지정 데이터에 해당하는 데이터들을 들고 옴
- 만약 기준 테이블에만 존재하는 데이터라면 null 값이 할당 됨
- Left, Right, Full이 존재

### 1. OUTER LEFT

#### CODE
```SQL
SELECT 학생.*, 수강.*
FROM 수강
LEFT JOIN 학생
ON 학생.학번 = 수강.학번
```

#### TABLE
학번|과목|수강번호|주민번호|성명|성별
|---|---|---|---|---|---|
1001|영어|1|8453-15415|홍길동|남
1001|수학|2|8453-15415|홍길동|남
1002|국어|3|5375-78237|김길수|남
1002|수학|4|5375-78237|김길수|남
1003|과학|5|3572-57537|김영희|여
1004|사회|6|1283-43355|박희영|여
1005|음악|7|Null|Null|Null

### 2. OUTER RIGHT

#### CODE
```SQL
SELECT 학생.*, 수강.*
FROM 수강
RIGHT JOIN 학생
ON 학생.학번 = 수강.학번
```

#### TABLE
학번|과목|수강번호|주민번호|성명|성별
|---|---|---|---|---|---|
1001|영어|1|8453-15415|홍길동|남
1001|수학|2|8453-15415|홍길동|남
1002|국어|3|5375-78237|김길수|남
1002|수학|4|5375-78237|김길수|남
1003|과학|5|3572-57537|김영희|여
1004|사회|6|1283-43355|박희영|여
1004|사회|6|1283-43355|박희영|여
1006|Null|Null|1216-48266|김한주|남

### 3. OUTER FULL

#### CODE
```SQL
SELECT 학생.*, 수강.*
FROM 수강
FULLO UTER JOIN 학생
ON 학생.학번 = 수강.학번
```

#### TABLE
학번|과목|수강번호|주민번호|성명|성별
|---|---|---|---|---|---|
1001|영어|1|8453-15415|홍길동|남
1001|수학|2|8453-15415|홍길동|남
1002|국어|3|5375-78237|김길수|남
1002|수학|4|5375-78237|김길수|남
1003|과학|5|3572-57537|김영희|여
1004|사회|6|1283-43355|박희영|여
1004|사회|6|1283-43355|박희영|여
1005|음악|7|Null|Null|Null
1006|Null|Null|1216-48266|김한주|남

<br>

## CROSS JOIN
- 두 테이블의 모든 조합을 불러옴
- N개의 데이터를 가진 테이블과 M개의 데이터를 가진 테이블을 CROSS JOIN하면 N*M 개의 데이터가 생성

### Example table
ID|점심메뉴||ID|디저트
---|---|---|---|---
1|떡볶이||1|커피
2|라면||2|쿠키
3|순대||3|아이스크림

### CODE
```SQL
SELECT *
FROM 점심메뉴
CROSS JOIN 디저트
```

### TABLE
ID|점심메뉴|ID|디저트
---|---|---|---
1|떡볶이|1|커피
1|떡볶이|2|쿠키
1|떡볶이|3|아이스크림
2|라면|1|커피
2|라면|2|쿠키
2|라면|3|아이스크림
3|순대|1|커피
3|순대|2|쿠키
3|순대|3|아이스크림

<br>

## SELF JOIN
- 자기 자신을 참조하는 Join 방법

### Example table
ID|Comment|Parent(대댓글을 단 댓글)
---|---|---
1|1번째댓글|null
2|2번째댓글|null
3|1번째댓글의 대댓글|1
4|1번째댓글의 대댓글|2

### CODE
```SQL
SELECT *
FROM Comment AS comment1
INNER JOIN comment AS comment2
ON comment1.Parent = comment2.ID
```

### TABLE
ID|Comment|Parent|Comment
---|---|---|---
3|1번째댓글의 대댓글|1|1번째댓글
4|1번째댓글의 대댓글|2|2번째댓글

<br>

# 참조 문서
[혼공](https://hongong.hanbit.co.kr/sql-%EA%B8%B0%EB%B3%B8-%EB%AC%B8%EB%B2%95-joininner-outer-cross-self-join/)<br>
[Richet의 기술 블로그](https://etloveguitar.tistory.com/123)
