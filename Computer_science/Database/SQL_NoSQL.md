# NoSQL이란?

## 비관계형 데이터베이스의 정의
- 비관계형 데이터베이스란 관계형 데이터베이스를 제외한 나머지를 총칭
- 이러한 데이터베이스를 주로 NoSql 이라고 부름

<br>

## 비관계형 데이터베이스의 특징
- 관계형 테이블과는 다른 방식으로 데이터를 저장
- 주로 데이터가 고정되어있지 않은 데이터베이스를 가르킴
- 데이터 모델에 따라 다양한 유형이 존재
- SQL과 반대되는 개념이라고 해서 스키마가 존재하지 않는 것은 아님
- 유연한 스키마를 지니며, 손쉬운 확장이 가능
- 비관계형 데이터베이스로도 관계 데이터 저장 가능

<br><br>

# NoSQL 데이터베이스의 유형

## Key-Value 데이터베이스
- 속성을 Key-Value 쌍으로 나타냄
- Key는 속성명, Value는 속성에 연결된 데이터 값을 의미
- Redis, Dynamo 등이 대표적
![유형1](https://d1.awsstatic.com/product-marketing/DynamoDB/PartitionKey.8dd0530a7f6d66d101f31de30db515564f4cf28a.png)

<br>

## Document(문서형) 데이터베이스
- 문서를 테이블이 아닌 문서처럼 저장하는 데이터베이스
- 대부분 문서형 데이터베이스들이 JSON과 유사한 형식의 데이터를 문서화하여 저장
- 각 문서는 하나의 속성데 대한 데이터를 가짐
- 컬렉션이라고 하는 그룹으로 데이터를 묶어서 관리
- Mongo DB 등
![유형2](https://webimages.mongodb.com/_com_assets/cms/kq6uev0p1jnpq1ob3-snippet_light.svg?auto=format%2Ccompress&ch=DPR)

<br>

## Wide-Column Store 데이터베이스
- 데이터베이스의 열에 대한 데이터를 집중적으로 관리
- 각열에는 key-value 형식으로 데이터 저장, 컬럼 패밀리라고 하는 열의 집합체 단위로 데이터 처리 가능
- 하나의 행에 많은 열을 포함할 수 있어 유연성이 높음
- 데이터 처리에 필요한 열을 유연하게 선택 가능
- 규모가 큰 데이터 분석에 주로 사용
- Cassandra, HBase 등
![유형3](https://blog.logrocket.com/wp-content/uploads/2020/12/column-family-db-object-visual.png)

<br>

## Graph(그래프) 데이터베이스
- 자료구조의 그래픋와 비슷한 형식으로 데이터 간의 관계를 구성하는 데이터베이스
- 노드에 속성별로 데이터를 저장
- 각 노드간 관계는 선으로 표현
- Neo4J, InfiniteGraph 등
![유형4](https://rastalion.me/wp-content/uploads/2021/06/1_f2MtjQg0_vS2aHqLhqEOTQ.png)

<br><br>

# SQL과 NoSQL의 차이점

## 1. 데이터 저장

### SQL
- SQL을 이용하여 데이터를 테이블에 저장

### NoSQL
- 데이터 형태에 따라 다양한 방식으로 데이터를 저장

<br>

## 2. 스키마

### SQL
- SQL을 사용하기 위해선 고정된 형식의 스키마가 필요
- 즉, 처리하려는 데이터 속성별로 열에 대한 정보를 미리 정해두어야함
- 스키마는 나중에 변경할 수 있지만, 데이터베이스 전체를 수정하거나 오프라인으로 전환할 필요가 존재

### NoSQL
- 보다 동적으로 스키마 형태 관리 가능
- 행을 추가할 때 즉시 새로운 열 추가 가능
- 개별 속성에 대해서 모든 열에 대한 데이터를 반드시 입력 X

<br>

## 3. 쿼리

### SQL
- 테이블의 형식과 테이블 간의 관계에 맞춰 데이터를 요청
- SQL과 같이 구조화된 쿼리 언어 사용

### NoSQL
- 데이터 그룹 자체를 조회하는 것에 초점
- 구조화되지 않은 쿼리 언어로도 데이터 요청이 가능

<br>

## 4. 확장성

### SQL
- 일반적으로 수직적으로 확장
- 높은 메모리, CPU를 사용
- 데이터베이스가 구축된 하드웨어의 성능을 많이 이용하여 높은 비용이 듦
- 여러 서버에 걸쳐 데이터베이스 관계 정의 가능
- 이 경우, 매우 복잡하고, 시간이 많이 소모됨

### NoSQL
- 수평적으로 확장 가능
- 보다 값싼 서버 증설
- 클라우드 서비스를 이용하는 확장
- NoSQL 데이터베이스를 위한 서버를 추가적으로 구축하면, 많은 트래픽을 보다 편리하게 처리 가능
- 저렴한 범용 하드웨어나 클라우드 기반의 인스턴스에 NoSQL 데이터베이스를 호스팅 가능

<br><br>

# SQL vs NoSQL
- 데이터베이스 구축에 있어 완벽한 방법은 없다.
- 많은 개발자들은 유저의 요구를 충족하기 위해 관계형, 비관계형 데이터베이스를 적절하게 모두 사용
- NoSQL 기반 비관계형 데이터베이스가 확장성이나 속도면에서 더 뛰어남
- 고차원으로 구조화된 SQL 기반의 데이터베이스가 더 좋은 성능을 보여주는 서비스도 존재
- 여러 사용 사례를 살펴보고 적절한 데이터베이스를 선택하는 것이 중요

<br>

## 관계형 데이터베이스를 사용하는 케이스

1. 소프트웨어에 사용되는 데이터가 구조적이고 일관적일 때

2. 데이터베이스의 ACID 성질을 준수해야할 때
  - Atomicity(원자성), Consistency(일관성), Isolation(격리성), Durability(지속성) 
  - 전자 상거래를 비롯한 모든 금융 서비스에서 이 성질을 반드시 준수

<br>

## 비관계형 데이터베이스를 사용하는 케이스

1. 데이터의 구조가 거의 또는 전혀 없는 대용량의 데이터를 저장할 때

2. 클라우드 컴퓨팅 및 저장공간을 최대한 활용할 때

3. 빠르게 서비스를 구축하는 과정에서 데이터 구조를 자주 업데이트 할 때
