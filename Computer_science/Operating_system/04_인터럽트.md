# 인터럽트(Interrupt)
- 프로그램 실행 도중 예기치 않은 상황이 발생할 경우 현재 실행중인 작업을 즉시 중단하고 발생된 상황에 대한 우선 처리가 필요함을 CPU에게 알리는 것
- 현재 수행중인 일보다 더 중요한 일(입출력, 시스템 콜 드등의 예외상황)이 발생하면 먼저 처리한 후 하던 일을 계속 해야 함
- 크게 하드웨어 인터럽트, 소프트웨어 인터럽트로 나뉨
<br><br>

## 하드웨어 인터럽트
CPU가 아닌 다른 하드웨어 장치가 CPU에 어떤 사실을 알려주거나 CPU 서비스를 요청해야 할 경우 발생
<br>

### 종류
- 입출력 인터럽트(I/O) : 입출력 작업의 종료나 입출력 오류에 의해 CPU의 기능이 요청됨
- 정전, 전원 이상 인터럽트(Power Fail) : 원원 공급의 이상
- 기계 착오 인터럽트(Machine Check) : CPU의 기능적인 오류
- 외부 신호 인터럽트(External) : I/O 장치가 아닌 오퍼레이터나 타이머에 의해 의도적으로 프로그램이 중단된 경우
<br>

### 구분
- Maskable Interrupt
  - Interrupt Mask(인터럽트가 발생했을 때 요구를 받아들일지 결정하는 것)가 가능
  - 인텔 CPU에서 INTR pin으로 신호가 들어옴
<br>
- Non-Maskable Interrupt
  - Interrupt Mask 불가능
  - 정전, 하드웨어 고장 등 어쩔수 없는 오류
  - 인텔 CPU에서 NMI pin으로 신호가 들어옴
<br><br>

## 소프트웨어 인터럽트
프로그램 처리 중 명령 요청에 의해서 발생, 소프트웨어가 스스로 인터럽트 라인을 세팅함
<br>

### 종류
- 프로그램 검사 인터럽트 (Program Check)
  - 0으로 나누는 경우
  - Over/Underflow
  - 페이지 부재
  - 부당한 기억장소의 참조
- 감시프로그램 호출 인터럽트 (Supervisor Call)
  - 사용자가 프로그램을 실행시키거나 Supervisor을 호출하는 동작을 수행하는 경우
  - 프로그래머에 의해 코드로 짜인 감시 프로그램을 호출하는 방식
<br><br>

## 인터럽트 처리 과정
1. 인터럽트 요청 신호 발생
2. 프로그램 중단 및 상태보관
    - 현재 실행하던 프로세스를 중단PC(Program Counter), PCB를 자동 저장
3. 인터럽트 처리 루틴 실행
    - 인터럽트를 요청한 장치를 식별
4. 인터럽트 서비스 루틴 실행
    - 인터럽트 원인을 파악하고 실질적인 작업을 수행
5. 프로그램 상태 복구 및 재실행
    - 저장해둔 PC를 복구하여 이전에 수행중이던 프로그램 재개
<br><br>

## 인터럽트 우선순위
1. 전원 이상(Power Fail)
    - 정전에 의해 발생
2. 기계 고장(Machine Check)
    - 기계 이상에 의해 발생
3. 외부 신호(External)
    - 외부 프로세서 등의 요청에 의해 발생
4. 프로그램 검사(Program Check)
    - 연산자 오사용, Overflow/Underflow에 의해 발생
5. SVC(Supervisor Call)
    - 제어 프로그램 호출에 의해 발생
