# 프로세스 주소 공간
- 프로세스 : 운영체제로부터 자원을 할당받는 작업의 단위
- 프로세스 주소 공간 : 프로그램이 실행되면 프로세스가 생성되고 메모리에 할당되는 공간
<br><br>

## 프로세스 주소 공간의 영역
프로세스 공간은 아래와 같이 크게 5개의 영역으로 나뉜다.

1. Code
- 우리가 작성한 소스코드가 들어가는 부분, 실행할 프로그램의 코드가 저장되는 영역으로 텍스트 영역으로도 부름
- 실행 파일을 구성하는 명령어들이 올라가는 메모리 영역으로 함수, 제어문, 상수 등 함수에 대한 기계어 코드가 지정됨
- 컴파일 타임에 결정되고 중간에 코드를 바꿀 수 없도록 Read-Only로 지정됨
<br>

2. Data
- 초기값이 있는 전역 변수, 배열, 정적(static) 변수가 저장되는 영역, 프로그램 구동 간 항상 접근 가능한 변수가 저장되는 영역
- 전역변수, static 값을 참조한 코드는 컴파일 뒤 Data 영역의 주소값을 가르키도록 바뀜
- 데이터 영역은 프로그램의 시작과 함께 할당, 프로그램이 종료되면 소멸
- 실행 도중 전역변수가 변경 될 수 있으니 Read-Write로 지정됨
<br>

3. BSS(Block Stated Symbol)
- 초기값 없는 전역변수, 배열, 정적변수가 저장되는 영역
- 초기화 된 데이터는 Data영역에 저장되고 초기화 되지 않은 데이터는 BSS영역에 저장됨
<br>

4. Stack
- 함수 호출과 관련된 지역변수와 배개변수가 저장되는 영역
- 함수의 호출과 함께 할당, 호출이 완료되면 소멸
- 원시형의 데이터가 값과 함께 할당됨
- Heap 영역에 생성된 Object 타입의 데이터 참조값이 할당됨
- 메모리의 높은 주소에서 낮은 주소의 방향으로 할당됨
- 컴파일 타임에 크기가 결정되기 때문에 무한히 할당할 수 없음
- 재귀함수가 너무 깊게 호출되거나 함수가 지역변수를 너무 많이 가질 경우 Stack Overflow 에러 발생
<br>

5. Heap
- 런타임에 크기가 결정되는 메모리 영역
- 사용자에 의해 메모리 공간이 동적으로 할당되고 해제됨
- 참조형의 데이터 값이 저장됨
- 메모리의 낮은 주소에서 높은 주소의 방향으로 할당됨
- Heap과 Stack 영역은 같은 공간을 공유, Heap이 메모리 위쪽 주소부터 할당되면 Stack은 아래부터 할당되는 식, 이 때 상대 공간을 침범하게 되면 Overflow가 발생
<br><br>


## 면접 예상 질문
Q. 프로세스의 구역을 나눈 이유는?
<li>
데이터를 최대한 공유하여 메모리의 사용량을 줄이기 위함.<br>
Code는 같은 프로그램 내에서 모두 같은 내용이기 때문에 따로 관리하여 공유함(한 프로그램을 여러개 띄울때 Code영역 공유)<br>
Stack과 Data영역을 나눈 이유는 스택 구조의 특성과 전역 변수의 활용성 때문<br>
</li><br>

Q. Data영역과 BSS영역을 구분하는 이유
<li>
초기화되지 않은 변수는 프로그램이 실행될 때만 영역을 잡아주면 된다.<br>
그 값을 프로그램에 저장하고 있을 필요는 없으나 초기화가 되는 변수는 그 값도 프로그램에 저장하고 있어야 하기 때문<br>
BSS 영역 변수들이 많아져도 프로그램의 실행코드 사이즈를 늘리지 않는다.</li>