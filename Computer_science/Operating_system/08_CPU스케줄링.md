# CPU 스케줄링
운영체제는 CPU 스케줄링을 통해 Ready Queue에 있는 어떤 프로세스에 CPU를 할당할 것인지 여러 가지 다른 알고리즘으로 결정한다

## 선점(Preemptive) VS 비선점(Non-preemptive)
### 선점
- 프로세스가 CPU를 점유하고 있는 동안 다른 프로세스가 해당 CPU를 강제로 점유 할 수 있다

### 비선점
- 한 프로세스가 한번 CPU를 점유했다면, 프로세스가 종료될때 까지 다른 프로세스가 CPU를 점유 할 수 없다

<br>

## 스케줄링 척도(Scheduling Criteria)
스케줄링의 효율을 분석하는 기준들<br>
- CPU 이용률(Utilaztion): CPU가 수행되는 비율
- 처리율(Throughout): 단위시간당 처리하는 작업의 수
- 반환시간(Turnaround Time): 작업을 처리하고 종료하는데까지 걸린 시간, 짧을수록 좋다
- 대기시간(Waiting Time): CPU 점유를 위해 ready queue에서 기다린 시간
- 응답시간(Response Time): 대화형 시스템에서 입력에 대한 반응시간\

<br>


## 선입 선처리 스케줄링(FCFS: First-Come, First-Served)
- 가장 먼저 요청한 프로세스에 CPU를 할당해주는 방식
- 비선점형 스케줄링
- 평균 대기 시간, 응답시간이 길어질 수 있다

<br>

## 최단작업 우선 스케줄링(SJF: Shortest-Job-First)
- 다음 CPU burst time의 길이를 고려해 스케줄링을 결정하는 알고리즘
- 비선점형과 선점형이 따로 존재
    - 비선점형: 실행되고 있는 프로세스는 끝까지 실행
    - 선점형: 현재 실행되고 있는 프로세스의 남은 시간보다 도착한 다음 프로세스가 더 빨리 끝날 수 있는 프로세스라면 다음 프로세스를 실행하도록 바꿈
- 평균 대기시간을 줄일 수 있다
- 다음 프로세스의 CPU burst time을 예측하는 것이 어려움

<br>

## 우선순위 스케줄링(Priority)
- 각각의 프로세스에 우선순위 넘버가 있다
- 가장 높은 우선순위의 프로세스에 CPU 할당
- 비선점형, 선점형이 따로 존재
- SJF 또한 우선순위 스케줄링으로 부를 수 있다
- Starvation 문제(낮은 우선순위의 프로세스가 절대 실행되지 않음)가 발생할 수 있음, 이를 해결하기 위해 Aging(시간이 지날수록 프로세스의 우선순위가 높아짐)을 사용할 수 있다

<br>

## RR(Round-Robin)스케줄링
- 각각의 프로세스에 동일한 CPU 할당 시간을 부여
- 할당 시간내에 처리하지 못하면 다음 프로세스로 넘어간다 (선점형)
- n개의 프로세스가 있을 때 할당시간을 q로 설정하면 어떠한 프로세스도 (n-1)q 시간을 넘지 않는다
- 응답 시간을 빠르게 할 수 있음
- q가 커진다면 선입 선처리와 같이 작동한다
- q가 매우 작아지면 process sharing이라고 부른다

<br>

## Multilevel Queue 스케줄링
- 준비 큐가 여러개의 큐들로 나뉜다
- 각 큐는 각자의 스케줄링 알고리즘을 가지고 있다
- 각 큐 사이에서 프로세스들이 이동할 수 있다
- Starvation 문제 발생 가능
- 보통 CPU 시간의 80%는 Foreground의 RR, 20%는 Background의 FCFS에 할당된다

<br>

## Multilevel Feedback Queue 스케줄링
- Multilevel Queue와 비슷하지만 각 큐 간에 프로세스들이 이동할 수 있다